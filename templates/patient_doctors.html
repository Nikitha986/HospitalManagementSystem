{% extends "dashboard_base.html" %}
{% block title %}Browse Doctors{% endblock %}
{% block dashboard_content %}
<div class="card mb-4">
  <div class="card-header bg-primary text-white">Browse Doctors by Category</div>
  <div class="card-body">
    <form method="get" class="mb-3">
      <div class="row g-2 align-items-end">
        <div class="col-md-6">
          <label for="category" class="form-label">Category</label>
          <select name="category" id="category" class="form-select">
            <option value="">All Categories</option>
            {% for cat in categories %}
              <option value="{{ cat.id }}" {% if cat.id|stringformat:'s' == selected_category %}selected{% endif %}>{{ cat.name }}</option>
            {% endfor %}
          </select>
        </div>
        <div class="col-md-2">
          <button class="btn btn-primary">Filter</button>
        </div>
      </div>
    </form>
    <div class="list-group">
      {% for doctor in doctors %}
        <a href="/patient/doctor/{{ doctor.id }}/" class="list-group-item list-group-item-action">
          Dr. {{ doctor.username }} ({{ doctor.email }})
        </a>
      {% empty %}
        <div class="text-muted">No doctors found for this category.</div>
      {% endfor %}
    </div>
  </div>
</div>
{% endblock %}
